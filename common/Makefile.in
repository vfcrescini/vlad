# Vino Crescini <jcrescin@cit.uws.edu.au>

TOPSRCDIR = @top_srcdir@
CC = @CC@
LEX = @LEX@
YACC = @YACC@
DEBUG = @enable_debug@
CFLAGS = -ansi                         \
         -Wall                         \
         -Wstrict-prototypes           \
         -I$(TOPSRCDIR)/include        \
         -L$(TOPSRCDIR)/lib            \
         $(NULL)
INCLUDES = vlad.h

ifeq "$(DEBUG)" "yes"
CFLAGS += -g -DDEBUG
else
CFLAGS += -O2 
endif

CXXFLAGS = $(CFLAGS)

all : public

public :
	@mkdir -p $(TOPSRCDIR)/include
	@for i in $(INCLUDES); do                  \
	ln -sf ../common/$$i $(TOPSRCDIR)/include; \
	done

clean :

distclean : clean
	$(RM) Makefile
	@for i in $(INCLUDES); do       \
	$(RM) $(TOPSRCDIR)/include/$$i; \
	done
